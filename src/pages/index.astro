---
import { getCollection } from 'astro:content';

import Link from '@/components/Link';
import PageHeader from '@/components/PageHeader.astro';
import { QuickLink } from '@/components/QuickLink';
import Layout from '../layouts/Layout.astro';
import PostHogLayout from '../layouts/PostHogLayout.astro';

const allCategories = await getCollection('categories');
const sortedCategories = allCategories.sort((a, b) =>
  a.data.name.localeCompare(b.data.name)
);
---

<PostHogLayout>
  <Layout title="Tools for working with OpenAPI">
    <PageHeader title="Categories" description="Tools for working with OpenAPI">
      <p class="prose dark:prose-invert">
        There are many tools and resources available for working with OpenAPI.
        We&apos;ve organized them into categories to help you find what you're
        looking for. If you're looking for a specific tool or resource, you can
        use the search bar at the top of the page.
      </p>
      <p class="prose dark:prose-invert">
        If you feel like something is missing, check out our instructions on how
        to
        <Link className="font-medium hover:underline" href="/contribute"
          >contributing</Link
        >.
      </p>
    </PageHeader>

    <div class="not-prose my-12 grid grid-cols-1 gap-6 sm:grid-cols-2">
      {
        sortedCategories.map((category) => (
          <QuickLink
            href={`/categories/${category.id}`}
            title={category.data.name}
            body={category.data.description}
          />
        ))
      }
    </div>
  </Layout>
</PostHogLayout>
